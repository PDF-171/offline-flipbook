<script src="pdfjs/pdf.js"></script>
<script>
  pdfjsLib.GlobalWorkerOptions.workerSrc = 'pdfjs/pdf.worker.js';
</script>

<!-- Flipbook logic -->
<script>
  const pdfUrl = 'apollo-flyer.pdf'; // âœ… match your real PDF filename

  const container = document.getElementById('flipbook');

  pdfjsLib.getDocument(pdfUrl).promise.then(pdf => {
    const totalPages = pdf.numPages;
    let loadedPages = 0;

    for (let i = 1; i <= totalPages; i++) {
      pdf.getPage(i).then(page => {
        const canvas = document.createElement('canvas');
        const context = canvas.getContext('2d');
        const viewport = page.getViewport({ scale: 1.5 });

        canvas.width = viewport.width;
        canvas.height = viewport.height;

        page.render({ canvasContext: context, viewport }).promise.then(() => {
          const pageDiv = document.createElement('div');
          pageDiv.className = 'page';
          pageDiv.appendChild(canvas);
          container.appendChild(pageDiv);

          loadedPages++;
          if (loadedPages === totalPages) {
            $('#flipbook').turn({
              width: viewport.width * 2,
              height: viewport.height,
              autoCenter: true
            });
          }
        });
      });
    }
  });
</script>
